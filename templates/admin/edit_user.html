{% extends 'layout.html' %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
<style>
    .card.table-card {
        max-width: 500px;
        margin: 2rem auto;
        background: var(--bg-card);
        border-radius: var(--border-radius);
        border: 1px solid rgba(255,255,255,0.1);
        box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
        color: var(--text-main);
    }
    .btn-back {
        color: var(--text-secondary);
        background: none;
        border: none;
        font-weight: 500;
        text-decoration: underline;
        transition: color 0.2s;
        margin-bottom: 1rem;
    }
    .btn-back:hover {
        color: var(--accent-2);
        text-decoration: underline;
    }
</style>
{% endblock %}

{% block title %}
<title>Edit User - Admin</title>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h2 class="page-title"><i class="fas fa-user-edit"></i> Edit User Profile</h2>
    <p class="page-subtitle">Update user details below.</p>
</div>

<div class="card table-card animate-fadein">
    <div class="card-body">
        <a href="{{ url_for('admin.manage_users') }}" class="btn-back"><i class="fas fa-arrow-left me-2"></i>Back to User List</a>
        <form method="POST" autocomplete="off">
            <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input type="text" name="full_name" class="form-control" value="{{ user.full_name }}" required placeholder="Full Name">
            </div>
            <div class="mb-3">
                <label class="form-label">Email</label>
                <input type="email" name="email" class="form-control" value="{{ user.email }}" required placeholder="Email">
            </div>
            <div class="mb-3">
                <label class="form-label">Phone</label>
                <input type="text" name="phone" class="form-control" value="{{ user.phone }}" placeholder="Phone">
            </div>
            <!-- Add after phone field -->
            <!-- Vehicle Fields -->
            <h5 class="mt-4"><i class="fas fa-car me-2"></i>Vehicle Details</h5>
            <div class="mb-3">
                <label class="form-label">Plate Number</label>
                <input type="text" name="plate_number" class="form-control" 
                value="{{ vehicle.plate_number if vehicle else '' }}" 
                placeholder="Plate Number">
            </div>
            <div class="row">
    <div class="col-md-6 mb-3">
        <label class="form-label">Vehicle Type</label>
        <input type="text" name="vehicle_type" class="form-control" 
        value="{{ vehicle.vehicle_type if vehicle else '' }}" 
        placeholder="Vehicle Type">
    </div>
    <div class="col-md-6 mb-3">
        <label class="form-label">Color</label>
        <input type="text" name="color" class="form-control" 
        value="{{ vehicle.color if vehicle else '' }}" 
        placeholder="Color">
    </div>
</div>

<!-- Address Fields -->
<h5 class="mt-4"><i class="fas fa-map-marker-alt me-2"></i>Address Details</h5>
<div class="mb-3">
    <label class="form-label">Address</label>
    <input type="text" name="address" class="form-control" 
    value="{{ address.address if address else '' }}" 
    placeholder="Full Address" >
</div>
<div class="row">
    <div class="col-md-4 mb-3">
        <label class="form-label">City</label>
        <input type="text" name="city" class="form-control" 
        value="{{ address.city if address else '' }}" 
        placeholder="City" >
    </div>
    <div class="col-md-4 mb-3">
        <label class="form-label">State</label>
        <input type="text" name="state" class="form-control" 
        value="{{ address.state if address else '' }}" 
        placeholder="State" >
    </div>
    <div class="col-md-4 mb-3">
        <label class="form-label">Pincode</label>
        <input type="text" name="pincode" class="form-control" 
        value="{{ address.pincode if address else '' }}" 
        placeholder="Pincode">
    </div>
</div>
<div class="mb-3">
    <label class="form-label">Landmark</label>
    <input type="text" name="landmark" class="form-control" 
    value="{{ address.landmark if address else '' }}" 
    placeholder="Landmark (Optional)">
</div>

<div class="d-flex justify-content-between">
    <a href="{{ url_for('admin.manage_users') }}" class="btn btn-secondary">Cancel</a>
    <button type="submit" class="btn btn-primary">Save Changes</button>
</div>
</form>
    </div>
</div>
{% endblock %}
